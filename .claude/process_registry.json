{
  "tasks": {
    "T024": {
      "mode": "native",
      "command": "T024 [US5] Confirm `resolveTestFilePath()` (implemented in T003) handles all 6 cases — no new code needed; verify via unit tests from T023 that all cases pass",
      "status": "running",
      "started_at": "2026-02-22T17:24:12.130977854Z",
      "constitution_rules": []
    },
    "T007": {
      "mode": "native",
      "command": "T007 [US2] Replace the 3-line `.prettierignore` at project root with the full 22-pattern file from `contracts/prettierignore.md` — preserves existing 3 patterns, adds `dist/`, `node_modules/`, `specs/`, `PRD/`, `research_reports/`, `docs/tutorials/*.ipynb`, `test/`, `tests/`, `test-example/`, `scripts/`, `.specstory/`, `.specify/`, `memory-bank/`, `.vscode/`, `.devkid/`, `.claude/`, `.husky/`, `.github/`; confirm `src/` is NOT in the file",
      "status": "failed",
      "started_at": "2026-02-20T09:31:37.946570827Z",
      "completed_at": "2026-02-20T09:36:28.296500048Z",
      "constitution_rules": []
    },
    "T028": {
      "mode": "native",
      "command": "T028 Commit all changes: `feat: add unified test generation for ma-loop — auto-generates tests when none exist`",
      "status": "running",
      "started_at": "2026-02-22T17:24:12.135861700Z",
      "constitution_rules": []
    },
    "T026": {
      "mode": "native",
      "command": "T026 Commit all changes with message: `fix: close all 5 outstanding issues — TS5 upgrade, prettierignore, ChromaDB fallback, error remediation, API docs`",
      "status": "failed",
      "started_at": "2026-02-20T09:31:37.995905462Z",
      "completed_at": "2026-02-20T09:36:28.296130109Z",
      "constitution_rules": []
    },
    "T003": {
      "mode": "native",
      "command": "T003 [US1] Run `npm install` to update `node_modules` and `package-lock.json` from the version changes in T002",
      "status": "failed",
      "started_at": "2026-02-20T09:31:37.934796389Z",
      "completed_at": "2026-02-20T09:36:28.296376433Z",
      "constitution_rules": []
    },
    "T018": {
      "mode": "native",
      "command": "T018 [US3] Add `--no-generate` option to the `run` command in `src/cli/ralph-loop.ts` after the existing `--tier-config` option (~line 84): `.option('--no-generate', 'Skip automatic test file generation when no test file exists')`",
      "status": "running",
      "started_at": "2026-02-22T17:24:12.128587421Z",
      "constitution_rules": []
    },
    "T002": {
      "mode": "native",
      "command": "T002 Create `src/helpers/test-generator.ts` with module docblock, imports (`path`, `fs/promises`, `glob`, `ProviderRouter`, `Message`), and export the two interface stubs (`TestGeneratorOptions`, `TestGeneratorResult`) — no function bodies yet",
      "status": "running",
      "started_at": "2026-02-22T17:24:12.110773142Z",
      "constitution_rules": []
    },
    "T019": {
      "mode": "native",
      "command": "T019 [P] [US5] Write `docs/api/cli.md` — document all CLI flags for both `ma`/`micro-agent` and `ma-loop`/`ralph-loop run` entry points sourced from `src/cli/ralph-loop.ts`; required columns: Flag | Type | Default | Description | Example; must cover: `--file`, `--test`, `--simple [N]`, `--full`, `--no-escalate`, `--tier-config`, `--max-iterations`, `--budget`, `--verbose`, `--config`",
      "status": "failed",
      "started_at": "2026-02-20T09:31:37.972369728Z",
      "completed_at": "2026-02-20T09:36:28.294830621Z",
      "constitution_rules": []
    },
    "T006": {
      "mode": "native",
      "command": "T006 [US1] Verify regression gate: run `npm test` and confirm 269/269 pass with no regressions from the TS upgrade",
      "status": "failed",
      "started_at": "2026-02-20T09:31:37.944135502Z",
      "completed_at": "2026-02-20T09:36:28.294688351Z",
      "constitution_rules": []
    },
    "T005": {
      "mode": "native",
      "command": "T005 [US1] Verify acceptance gate: run `npx tsc --noEmit` and confirm exit code 0 with zero output (previously 500+ errors); if any src/ errors remain, fix them before proceeding",
      "status": "failed",
      "started_at": "2026-02-20T09:31:37.940284853Z",
      "completed_at": "2026-02-20T09:36:28.298049285Z",
      "constitution_rules": []
    },
    "T015": {
      "mode": "native",
      "command": "T015 [P] [US4] Update the 3 API key error throws in `src/llm/provider-router.ts` (lines 221, 269, 336) to append `\\n→ Fix: Set <ENV_VAR>=... in your .env file` with the correct env var name and URL for each provider — see `contracts/error-messages.md` for exact strings; do NOT echo key values",
      "status": "failed",
      "started_at": "2026-02-20T09:31:37.964254083Z",
      "completed_at": "2026-02-20T09:36:28.298437396Z",
      "constitution_rules": []
    },
    "T009": {
      "mode": "native",
      "command": "T009 [US1] Write unit test group `describe('generateTestFile')` in `tests/unit/helpers/test-generator.test.ts` — 9 cases: router.complete() called with `provider: 'anthropic'`; default model is `claude-sonnet-4-20250514`; model override honored when `options.model` set; `fs.writeFile` called with resolved path and extracted code; returns correct `testCommand` for vitest; returns correct `testCommand` for pytest; throws when `.rs` target resolved (null path); includes up to 2 example contents in messages when available; falls back to package.json block when no examples",
      "status": "running",
      "started_at": "2026-02-22T17:24:12.116401548Z",
      "constitution_rules": []
    },
    "T017": {
      "mode": "native",
      "command": "T017 [US4] Verify acceptance gate: run `npm test` 269/269 pass; optionally smoke-test one error path to confirm `→ Fix:` line appears in terminal output",
      "status": "failed",
      "started_at": "2026-02-20T09:31:37.967080668Z",
      "completed_at": "2026-02-20T09:36:28.298297532Z",
      "constitution_rules": []
    },
    "T021": {
      "mode": "native",
      "command": "T021 [P] [US5] Write `docs/api/agents.md` — document all exported interfaces from `src/agents/base/agent-context.ts`: `AgentContext`, `LibrarianOutput`, `ArtisanOutput`, `CriticOutput`, `IterationState`, `BudgetConstraints`, `TestContext`, `FileContext`; required columns: Field | Type | Required | Description",
      "status": "failed",
      "started_at": "2026-02-20T09:31:37.979771163Z",
      "completed_at": "2026-02-20T09:36:28.296253959Z",
      "constitution_rules": []
    },
    "T008": {
      "mode": "native",
      "command": "T008 Verify foundational checkpoint: run `npx tsc --noEmit` (0 errors) and `npm test` (273/273 pass) — do NOT proceed to user story phases until both pass",
      "status": "running",
      "started_at": "2026-02-22T17:24:12.113816047Z",
      "constitution_rules": []
    },
    "T014": {
      "mode": "native",
      "command": "T014 [US1] Verify US1 acceptance gate: run `npm test` (273+ pass), `npx tsc --noEmit` (0 errors), smoke test `quickstart.md Test 1` (test file created and loop runs)",
      "status": "running",
      "started_at": "2026-02-22T17:24:12.123287780Z",
      "constitution_rules": []
    },
    "T027": {
      "mode": "native",
      "command": "T027 Run full combined acceptance gate: `npm test` (all 273 original + all new unit tests pass), `npx tsc --noEmit` (0 errors) — MUST pass before proceeding",
      "status": "running",
      "started_at": "2026-02-22T17:24:12.133025899Z",
      "constitution_rules": []
    },
    "T016": {
      "mode": "native",
      "command": "T016 [US2] Confirm `findExistingTests()` (implemented in T010) correctly handles all passthrough patterns — no new code needed; verify via unit tests from T015 that all 5 patterns pass",
      "status": "running",
      "started_at": "2026-02-22T17:24:12.125904690Z",
      "constitution_rules": []
    },
    "T012": {
      "mode": "native",
      "command": "T012 [US1] Add `generate?: boolean` field to `RunOptions` interface in `src/cli/commands/run.ts` (after `tierConfig?: string` field, line ~79)",
      "status": "running",
      "started_at": "2026-02-22T17:24:12.119102748Z",
      "constitution_rules": []
    },
    "T013": {
      "mode": "native",
      "command": "T013 [US3] Write 4 unit tests in `tests/unit/memory/memory-vault-fallback.test.ts`:",
      "status": "failed",
      "started_at": "2026-02-20T09:31:37.955904187Z",
      "completed_at": "2026-02-20T09:36:28.296741942Z",
      "constitution_rules": []
    },
    "T022": {
      "mode": "native",
      "command": "T022 [P] [US5] Write `docs/api/lifecycle.md` — document public exports from `src/lifecycle/`: `IterationManager` (constructor + public methods), `ContextMonitor` (`registerAgent`, `recordTokens`, 40% threshold), `SessionResetter` (constructor options, `reset()`), `TierEngine` (`runTier()` signature + return), `TierConfig`/`TierEscalationConfig` fields, `buildAccumulatedSummary()`, `withTierEscalationContext()`",
      "status": "failed",
      "started_at": "2026-02-20T09:31:37.984877023Z",
      "completed_at": "2026-02-20T09:36:28.297670593Z",
      "constitution_rules": []
    },
    "T001": {
      "mode": "native",
      "command": "T001 Confirm active branch is `005-unified-test-gen` and `npm test` reports 273/273 passing before any changes (baseline validation)",
      "status": "running",
      "started_at": "2026-02-22T17:24:12.108153555Z",
      "constitution_rules": []
    },
    "T023": {
      "mode": "native",
      "command": "T023 [US5] Verify acceptance gate: confirm `docs/api/` contains exactly 5 `.md` files; run `wc -l docs/api/*.md` and confirm total ≥ 300 lines; run `npm test` 269/269",
      "status": "failed",
      "started_at": "2026-02-20T09:31:37.988792158Z",
      "completed_at": "2026-02-20T09:36:28.298564311Z",
      "constitution_rules": []
    },
    "T031": {
      "mode": "native",
      "command": "T031 Run full vitest test suite and confirm ≥ 290 tests pass (247 existing + ~43 new); confirm zero regressions — `npx vitest run`",
      "status": "failed",
      "started_at": "2026-02-17T12:09:10.674215201Z",
      "completed_at": "2026-02-17T12:13:47.558807240Z",
      "constitution_rules": []
    },
    "T020": {
      "mode": "native",
      "command": "T020 [P] [US5] Write `docs/api/config.md` — document full `ralph.config.yaml` schema sourced from `src/config/schema-validator.ts` and `src/config/defaults.ts`; required columns: Key | Type | Default | Valid Values | Description; every field in the Zod schema must appear",
      "status": "failed",
      "started_at": "2026-02-20T09:31:37.975411083Z",
      "completed_at": "2026-02-20T09:36:28.296621801Z",
      "constitution_rules": []
    },
    "T004": {
      "mode": "native",
      "command": "T004 [US1] Change `\"moduleResolution\": \"node\"` to `\"moduleResolution\": \"node16\"` in `tsconfig.json` (line 8) — required for TypeScript 5.x ESM resolution; no other fields change",
      "status": "failed",
      "started_at": "2026-02-20T09:31:37.937433330Z",
      "completed_at": "2026-02-20T09:36:28.295861050Z",
      "constitution_rules": []
    }
  }
}